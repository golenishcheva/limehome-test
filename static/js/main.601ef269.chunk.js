(this.webpackJsonplimehome=this.webpackJsonplimehome||[]).push([[0],{18:function(e,t,a){e.exports=a(48)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(6),r=a.n(o),s=(a(23),a(2)),c=a(3),l=a(5),d=a(4),u=(a(24),a(7)),h=(a(25),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).fixNav=n.fixNav.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.fixNav)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.fixNav)}},{key:"fixNav",value:function(){var e=document.querySelector(".header"),t=0;e instanceof HTMLElement&&(t=e.offsetTop),e&&window.scrollY>=t?e.classList.add("fixed-header"):e&&e.classList.remove("fixed-header")}},{key:"render",value:function(){return i.a.createElement("header",{className:"header"},i.a.createElement("nav",{className:"header_nav"},i.a.createElement("ul",{className:"header_menu"},i.a.createElement("li",{className:"header_menu-item"},i.a.createElement("a",{href:"#"},i.a.createElement("img",{src:"limehome_logo.svg",alt:"Logo"}))),i.a.createElement("li",{className:"header_menu-item"},i.a.createElement("button",null,i.a.createElement("img",{src:"burger_icon.svg",alt:"Menu button"}))))))}}]),a}(i.a.Component)),m=(a(26),a(17));a(29);var p=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{onClick:function(){return e.props.cb(e.props.id)}},i.a.createElement("img",{className:this.props.isMarkerClicked.length>0&&this.props.active?"active":"inactive",src:this.props.active?"home_icon-active.svg":"home_icon-default.svg",alt:"Marker"}))}}]),a}(i.a.Component),v=(a(30),a(31),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"hotel_cards-item",key:this.props.hotel.id},i.a.createElement("div",{className:"hotel_card-content"},i.a.createElement("div",{className:"hotel_card-details"},i.a.createElement("div",{className:"hotel_card-details--photo"},i.a.createElement("img",{src:"https://via.placeholder.com/200x300",alt:"Hotel"})),i.a.createElement("div",{className:"hotel_card-details--info"},i.a.createElement("h3",{className:"info_title"}," ",this.props.hotel.title," "),i.a.createElement("p",{className:"info_distance"},(this.props.hotel.distance/1e3).toFixed(1)," km from the city center"),i.a.createElement("p",{className:"info_price"},"$",Math.floor(90*Math.random()+10)),i.a.createElement("p",{className:"info_desc"},this.props.hotel.vicinity))),i.a.createElement("div",{className:"hotel_card-control"},i.a.createElement("button",{className:"card_button"},"Book"))))}}]),a}(i.a.Component)),f=a(16),k=a.n(f),b=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).sliderRef=i.a.createRef(),n.state={windowWidth:window.innerWidth},n.updateDimensions=n.updateDimensions.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"updateDimensions",value:function(){this.setState({windowWidth:window.innerWidth})}},{key:"render",value:function(){var e=Math.floor((this.state.windowWidth-100)/280),t=e<1?1:e,a=this.props.hotels.findIndex((function(e){return e.active})),n={dots:!1,infinite:!0,slidesToShow:t,arrows:!1,focusOnSelect:!1,initialSlide:a,draggable:!1,centerMode:!0,centerPadding:"15px",swipe:!1};return this.sliderRef&&this.sliderRef.current&&this.sliderRef.current.slickGoTo(a),i.a.createElement("div",{className:"hotel_cards"},i.a.createElement(k.a,Object.assign({},n,{ref:this.sliderRef}),this.props.hotels.map((function(e){return i.a.createElement(v,{key:e.id,hotel:e})}))))}}]),a}(i.a.Component),g=a(12),E=a.n(g),y=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={center:{lat:52.520008,lng:13.404954},bounds:{top:"",right:"",bottom:"",left:""},hotels:[],isMarkerClicked:"",prevMarkerId:""},n.handleApiLoaded=n.handleApiLoaded.bind(Object(u.a)(n)),n.setMapBounds=n.setMapBounds.bind(Object(u.a)(n)),n.handleMarkerClick=n.handleMarkerClick.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(function(e){this.setState({center:{lat:e.coords.latitude,lng:e.coords.longitude}})}.bind(this))}},{key:"handleApiLoaded",value:function(e,t){this.setMapBounds(e),e.addListener("bounds_changed",function(){this.state.isMarkerClicked||this.setMapBounds(e)}.bind(this)),e.addListener("zoom_changed",function(){this.state.isMarkerClicked||this.setMapBounds(e)}.bind(this))}},{key:"setMapBounds",value:function(e){var t,a=this,n=e.getBounds().getNorthEast().lat(),i=e.getBounds().getNorthEast().lng(),o=e.getBounds().getSouthWest().lat(),r=e.getBounds().getSouthWest().lng();(t="".concat(r,",").concat(o,",").concat(i,",").concat(n),fetch("https://places.ls.hereapi.com/places/v1/discover/explore?apiKey=".concat("fBQybpHx6xku2N8C2TtV3lY0nGz0Ph2tmpwkTmnxwyM","&in=",t,"&cat=","hotel"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){var t=E()(e.results.items);t.sort((function(e,t){return e.distance>t.distance?1:-1})).forEach((function(e,t){0===a.state.isMarkerClicked.length&&0===t||a.state.isMarkerClicked.length>0&&a.state.isMarkerClicked===e.id?e.active=!0:e.active=!1})),a.setState({hotels:t})}))}},{key:"handleMarkerClick",value:function(e){var t="";this.state.prevMarkerId===e&&this.state.isMarkerClicked.length>0||(t=e);var a=E()(this.state);a.hotels.forEach((function(t){return t.id===e?t.active=!0:t.active=!1})),this.setState({hotels:a.hotels,prevMarkerId:e,isMarkerClicked:t})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"map-holder"},i.a.createElement("div",{className:"map"},i.a.createElement(m.a,{bootstrapURLKeys:{key:"AIzaSyByVaDzR_s27S-R1a_gyKvyqWBeU7IVe8Q"},center:{lat:this.state.center.lat,lng:this.state.center.lng},zoom:14,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(t){var a=t.map,n=t.maps;return e.handleApiLoaded(a,n)},options:{disableDefaultUI:!0}},this.state.hotels.map((function(t){return i.a.createElement(p,{key:t.id,text:t.title,lat:t.position[0],lng:t.position[1],cb:e.handleMarkerClick,id:t.id,active:t.active,isMarkerClicked:e.state.isMarkerClicked})})))),i.a.createElement(b,{hotels:this.state.hotels}))}}]),a}(i.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(h,null),i.a.createElement(y,null))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.601ef269.chunk.js.map